import * as child_process0 from "child_process";
import { ExecOptions, SpawnOptions, SpawnSyncOptionsWithStringEncoding } from "child_process";

//#region src/enums.d.ts
declare enum PkgManager {
  NPM = "npm",
  YARN = "yarn",
  PNPM = "pnpm",
}
/**
 * @deprecated Use `ConfirmResult` instead.
 */
declare enum YesOrNo {
  Yes = "yes",
  No = "no",
  Ignore = "ignore",
}
declare enum ConfirmResult {
  YES = "yes",
  NO = "no",
  IGNORE = "ignore",
}
declare enum HttpLibrary {
  EXPRESS = "express",
  FASTIFY = "fastify",
  KOA = "koa",
  HONO = "hono",
}
//#endregion
//#region src/types.d.ts
interface CopyOptions {
  rename?: Record<string, string>;
  skips?: ((name: string, isDir: boolean) => boolean)[];
}
type CliOptions<T = string | boolean> = Record<string, T>;
interface PkgInfo {
  name: string;
  version: string;
}
interface ExecResultOptions {
  trim?: boolean;
  dryRun?: boolean;
  error?: 'log' | 'throw' | 'ignore';
}
type SpawnAsyncOptions<T = SpawnOptions> = T & ExecResultOptions;
type ExecAsyncOptions<T = ExecOptions> = T & ExecResultOptions;
//#endregion
//#region src/utils.d.ts
declare const isValidPackageName: (packageName: string) => boolean;
declare const toValidPackageName: (packageName: string) => string;
declare const toValidProjectName: (projectName: string) => string;
declare const emptyDir: (dir: string, ignore?: string[]) => Promise<boolean>;
declare const isEmpty: (path: string, ignore?: string[]) => Promise<boolean>;
declare const editFile: (file: string, callback: (content: string) => string) => Promise<void>;
declare const editJsonFile: <T extends Record<string, any>>(file: string, callback: (json: T) => void) => Promise<void>;
declare const readSubDirs: (source: string, ignore?: string[]) => Promise<string[]>;
declare const copyDirAsync: (src: string, dest: string, options: CopyOptions) => Promise<void>;
declare const readJsonFile: <T extends Record<string, any>>(file: string) => T;
/** 通过包管理器执行脚本时生效 UserAgent: `process.env.npm_config_user_agent` */
declare const pkgFromUserAgent: (userAgent: string | undefined) => PkgInfo | undefined;
/** 同步执行 Node CLI（用于测试环境） */
declare const runCliForTest: (path: string, args: string[], options?: SpawnSyncOptionsWithStringEncoding) => child_process0.SpawnSyncReturns<string>;
/** 判断测试文件（夹） */
declare const isTestFile: (name: string) => boolean;
declare const parseGitHubRepo: (url: string) => string[];
//#endregion
//#region src/shell.d.ts
declare const dim: (text: string) => string;
declare const red: (text: string) => string;
declare const yellow: (text: string) => string;
declare const spawnAsync: <T = SpawnOptions>(cmd: string, args: string[], options?: SpawnAsyncOptions<T>) => Promise<string | undefined>;
declare const execAsync: <T = ExecOptions>(cmd: string, options?: ExecAsyncOptions<T>) => Promise<string | undefined>;
declare const runGit: (args: string[], trim?: boolean) => Promise<string | undefined>;
declare const runNpm: (args: string[]) => Promise<string | undefined>;
declare const isGitRepo: (dir?: string) => Promise<boolean>;
declare const getGitConfig: (key: string, global?: boolean) => Promise<string | undefined>;
declare const getGitRemoteUrl: (remoteName?: string) => Promise<string | undefined>;
declare const pkgVersion: (pkg: string) => Promise<string | undefined>;
declare const checkVersion: (cmd: string) => Promise<string | undefined>;
//#endregion
export { CliOptions, ConfirmResult, CopyOptions, ExecAsyncOptions, ExecResultOptions, HttpLibrary, PkgInfo, PkgManager, SpawnAsyncOptions, YesOrNo, checkVersion, copyDirAsync, dim, editFile, editJsonFile, emptyDir, execAsync, getGitConfig, getGitRemoteUrl, isEmpty, isGitRepo, isTestFile, isValidPackageName, parseGitHubRepo, pkgFromUserAgent, pkgVersion, readJsonFile, readSubDirs, red, runCliForTest, runGit, runNpm, spawnAsync, toValidPackageName, toValidProjectName, yellow };