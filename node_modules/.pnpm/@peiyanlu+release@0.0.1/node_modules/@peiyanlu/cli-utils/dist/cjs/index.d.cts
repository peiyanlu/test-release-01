import * as child_process0 from "child_process";
import { SpawnSyncOptionsWithStringEncoding } from "child_process";

//#region src/enums.d.ts
declare enum PkgManager {
  NPM = "npm",
  YARN = "yarn",
  PNPM = "pnpm",
}
/**
 * @deprecated Use `ConfirmResult` instead.
 */
declare enum YesOrNo {
  Yes = "yes",
  No = "no",
  Ignore = "ignore",
}
declare enum ConfirmResult {
  YES = "yes",
  NO = "no",
  IGNORE = "ignore",
}
declare enum HttpLibrary {
  EXPRESS = "express",
  FASTIFY = "fastify",
  KOA = "koa",
  HONO = "hono",
}
//#endregion
//#region src/types.d.ts
interface CopyOptions {
  rename?: Record<string, string>;
  skips?: ((name: string, isDir: boolean) => boolean)[];
}
type CliOptions<T = string | boolean> = Record<string, T>;
interface PkgInfo {
  name: string;
  version: string;
}
//#endregion
//#region src/utils.d.ts
declare const execAsync: (cmd: string) => Promise<string | undefined>;
declare const pkgVersion: (pkg: string) => Promise<string | undefined>;
declare const checkVersion: (cmd: string) => Promise<string | undefined>;
declare const isValidPackageName: (packageName: string) => boolean;
declare const toValidPackageName: (packageName: string) => string;
declare const toValidProjectName: (projectName: string) => string;
declare const emptyDir: (dir: string, ignore?: string[]) => Promise<boolean>;
declare const isEmpty: (path: string, ignore?: string[]) => Promise<boolean>;
declare const editFile: (file: string, callback: (content: string) => string) => Promise<void>;
declare const editJsonFile: <T extends Record<string, any>>(file: string, callback: (json: T) => void) => Promise<void>;
declare const isGitRepo: (dir?: string) => Promise<boolean>;
declare const readSubDirs: (source: string, ignore?: string[]) => Promise<string[]>;
declare const getGitConfig: (key: string, global?: boolean) => Promise<string | undefined>;
declare const copyDirAsync: (src: string, dest: string, options: CopyOptions) => Promise<void>;
declare const readJsonFile: <T extends Record<string, any>>(file: string) => T;
/**
 * 通过包管理器执行脚本时生效
 *
 * UserAgent: `process.env.npm_config_user_agent`
 * @param {string | undefined} userAgent
 * @returns {PkgInfo | undefined}
 */
declare const pkgFromUserAgent: (userAgent: string | undefined) => PkgInfo | undefined;
declare const runCli: (path: string, args: string[], options?: SpawnSyncOptionsWithStringEncoding) => child_process0.SpawnSyncReturns<string>;
//#endregion
export { CliOptions, ConfirmResult, CopyOptions, HttpLibrary, PkgInfo, PkgManager, YesOrNo, checkVersion, copyDirAsync, editFile, editJsonFile, emptyDir, execAsync, getGitConfig, isEmpty, isGitRepo, isValidPackageName, pkgFromUserAgent, pkgVersion, readJsonFile, readSubDirs, runCli, toValidPackageName, toValidProjectName };